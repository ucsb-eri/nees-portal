{"ts":1351734323144,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/* vim: set tabstop=4 shiftwidth=4: */\n/*jslint mootools:true */\n\n/**\n * Handles user input\n * \n * -----------------------------------------------------------------------------\n * Layout\n * -----------------------------------------------------------------------------\n * Controller\n * - initialize()\n * - attach()\n * - get(k)\n * - getInput()\n * - notify()\n * - set(k, v)\n * - update()\n * \n *     TableCtrls\n *     - initialize()\n *     - gotoPage(opt)\n *     - resetPageCount()\n *     - setCurrentPage(inputNum)\n *     - setMaxPages(maxPages)\n */\n(function (global) {\n    'use strict';\n    \n    /**\n     * Handle user input\n     */\n\tvar Controller = global.Controller = (function () {\n\t\tvar\n\t\t\tctrls\t\t=\t[\"site\", \"radius\", \"minMag\", \"maxMag\", \"sDate\",\n                \"eDate\", \"itemsPerPage\"],\n\t\t\tinput\t\t=\t{},\n\t\t\tobservers\t=\t[];\n            \n\t\tfunction retrieveInput() {\n\t\t\tinput = {};\n\n\t\t\tfor (var idx = 0, l = ctrls.length; idx < l; idx++) {\n\t\t\t\tvar val = ctrls[idx];\n\n\t\t\t\tif (typeOf(val) === 'string') {\n\t\t\t\t\tval == 'site' ?\n\t\t\t\t\t\tinput[val] = $(val) :\n\t\t\t\t\t\tinput[val] = $(val).value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinput.page\t\t\t=\t0;\n\t\t\tinput.maxPages\t\t=\t0;\n\n\t\t\tController.TableCtrls.resetPageCount();\n\t\t\tController.notify();\n\t\t}\n\n\t\treturn {\n\t\t\tinitialize: function () {\n                var firstEvent = new Date(0);\n                firstEvent.setUTCSeconds(979439174);\n                \n\t\t\t\t// Initialize input fields\n\t\t\t\tctrls.each(function (strId) {\n\t\t\t\t\tif (~strId.toLowerCase().indexOf('date')) {\n\t\t\t\t\t\tvar picker = new global.Picker.Date($(strId), {\n\t\t\t\t\t\t\tformat:\t\t\t'%x',\n\t\t\t\t\t\t\tpickerClass:\t'datepicker_jqui',\n\t\t\t\t\t\t\tpositionOffset:\t{ x: 0, y: 5 },\n\t\t\t\t\t\t\tyearPicker:\t\ttrue\n\t\t\t\t\t\t});\n                        \n                        $(strId).store('picker', picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(strId).addEvent('change',\n\t\t\t\t\t\t\t\tController.update.bind(Controller));\n\t\t\t\t\t\t$(strId).addEvent('keypress', function (evt) {\n\t\t\t\t\t\t\t// update if Enter pressed\n\t\t\t\t\t\t\tif (evt.code === 13) {\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(Controller));\n\t\t\t\t\t}\n\t\t\t\t});\n                \n                $('sDate').retrieve('picker').select(firstEvent);\n                $('eDate').retrieve('picker').select(new Date());\n                $$('datepicker_jqui').addEvent('select',\n                    Controller.update.bind(Controller));\n\n\t\t\t\t// Initialize sliders\n\t\t\t\t$$('.toggle>span').each(function (el) {\n\t\t\t\t\tvar\n\t\t\t\t\t\tsWrap\t=\tel.getParent(),\n\t\t\t\t\t\tsObj\t=\tnew Fx.Slide(\n                            sWrap.getElements('.toggle-target')[0], {\n\t\t\t\t\t\t\t\tduration: 'short',\n\t\t\t\t\t\t\t\tlink: 'chain',\n\t\t\t\t\t\t\t\tresetHeight: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\tsWrap.store('slide', sObj);\n\n\t\t\t\t\tel.addEvent('click', function() {\n\t\t\t\t\t\tif (this.hasClass('active')) {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideOut().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.removeClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideIn().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.addClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(sWrap));\n\t\t\t\t});\n                \n\t\t\t\tthis.TableCtrls = new TableCtrls();\n\t\t\t},\n\t\t\tattach: function () {\n\t\t\t\tfor (var idx = 0, j = arguments, k = arguments.length;\n\t\t\t\t\tidx < k; idx++) {\n\t\t\t\t\tif (j[idx].update) observers.push(j[idx]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget: function (k) {\n\t\t\t\treturn input[k];\n\t\t\t},\n\t\t\tgetInput: function () {\n\t\t\t\treturn input;\n\t\t\t},\n\t\t\tnotify: function () {\n\t\t\t\tfor (var idx = 0, l = observers.length; idx < l; idx++) {\n\t\t\t\t\tobservers[idx].update(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\tset: function (k, v) {\n\t\t\t\treturn input[k] = v;\n\t\t\t},\n\t\t\tupdate: function () {\n\t\t\t\tretrieveInput();\n\t\t\t}\n\t\t};\n\t}) ();\n    \n    var Main = Controller.Main = (function () {\n    });\n    \n\tvar TableCtrls = (function () {\n\t\tvar\t$super\t\t=\tController,\n\t\t\tsettings    =\t{\n\t\t\t\tfirst:\t'table-ctrl-first',\n\t\t\t\tlast:\t'table-ctrl-last',\n\t\t\t\tnext:\t'table-ctrl-next',\n\t\t\t\tprev:\t'table-ctrl-prev',\n\n\t\t\t\tmaxPages:\t'table-ctrl-total',\n\t\t\t\tpage:\t\t'table-ctrl-page'\n\t\t\t};\n\t\treturn new Class({\n\t\t\tinitialize: function () {\n\t\t\t\t$(settings.first).addEvent('click', this.gotoPage(-2));\n\t\t\t\t$(settings.last).addEvent('click', this.gotoPage(2));\n\t\t\t\t$(settings.next).addEvent('click', this.gotoPage(1));\n\t\t\t\t$(settings.prev).addEvent('click', this.gotoPage(-1));\n\n\t\t\t\t$(settings.page).addEvent('change', function () {\n\t\t\t\t\tthis.setCurrentPage($(settings.page).get('value') - 1);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tgotoPage: function (opt) {\n\t\t\t\tvar     target\t=\t0,\n\t\t\t\t\t    navOpt\t=\topt;\n\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar\n\t\t\t\t\t\tcurrPage\t=\t$super.get('page'),\n\t\t\t\t\t\tmaxPages\t=\t$super.get('maxPages');\n\n\t\t\t\t\tswitch (navOpt) {\n\t\t\t\t\tcase -2: // First\n\t\t\t\t\t\ttarget = 0; break;\n\t\t\t\t\tcase -1: // Prev\n\t\t\t\t\t\ttarget = currPage - 1; break;\n\t\t\t\t\tcase 1: // Next\n\t\t\t\t\t\ttarget = currPage + 1; break;\n\t\t\t\t\tcase 2: // Last\n\t\t\t\t\t\ttarget = maxPages - 1; break;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCurrentPage(target);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tresetPageCount: function () {\n\t\t\t\t$(settings.page).set('value', 1);\n\t\t\t},\n\t\t\tsetCurrentPage: function (inputNum) {\n\t\t\t\tvar pageNum = parseInt(inputNum, 10);\n\t\t\t\tif (pageNum < 0 || pageNum >= $super.get('maxPages')) {\n\t\t\t\t\t$(settings.page).set('value', $super.get('page') + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$(settings.page).set('value', pageNum + 1);\n\t\t\t\t$super.set('page', pageNum);\n\t\t\t\t$super.notify();\n\t\t\t},\n\t\t\tsetMaxPages: function (maxPages) {\n\t\t\t\t$super.set('maxPages', maxPages);\n\t\t\t\t$(settings.maxPages).set('text', maxPages);\n\t\t\t}\n\t\t});\n\t}) ();\n\n}) (this);\n"]],"start1":0,"start2":0,"length1":0,"length2":5446}]],"length":5446}
{"contributors":[],"silentsave":false,"ts":1351734835684,"patch":[[{"diffs":[[0,"rue */\n\n"],[1,"var app = app || {};\n\n"],[0,"/**\n * H"]],"start1":58,"start2":58,"length1":16,"length2":38},{"diffs":[[0,") {\n"],[-1,"                var firstEvent = new Date(0);\n                firstEvent.setUTCSeconds(979439174);\n"],[0,"    "]],"start1":1276,"start2":1276,"length1":107,"length2":8}]],"length":5369,"saved":false}
{"ts":1351735036310,"patch":[[{"diffs":[[0,"er ="],[-1," global.Controller ="],[0," (fu"]],"start1":667,"start2":667,"length1":28,"length2":8},{"diffs":[[0,"\t}\n\t\t};\n"],[1,"        \n        app.Controller = Controller;\n"],[0,"\t}) ();\n"]],"start1":3508,"start2":3508,"length1":16,"length2":62}]],"length":5395,"saved":false}
{"ts":1351736588569,"patch":[[{"diffs":[[0,"var\n"],[-1,"\t\t\tctrls\t\t=\t[\"site\", \"radius\", \"minMag\", \"maxMag\", \"sDate\",\n"],[1,"      "],[0,"      "],[1,"ctrls"],[0,"       "],[1,"="],[0,"   "],[-1,"\"eDate\", \"itemsPerPage\"]"],[1,"$$('.app-input-flds')"],[0,",\n\t\t"]],"start1":689,"start2":689,"length1":108,"length2":57}]],"length":5344,"saved":false}
{"ts":1351736620505,"patch":[[{"diffs":[[0,"ect("],[-1,"firstEvent"],[1,"app.settings.FIRST_EVENT"],[0,");\n "]],"start1":1963,"start2":1963,"length1":18,"length2":32}]],"length":5358,"saved":false}
{"ts":1351736957337,"patch":[[{"diffs":[[0,"    "],[-1,"/**\n     * Handle user input\n     */"],[1,"var inputFields = $$('.app-input-flds');\n    /**\n     * Handle user input\n     */\n    var Controller = {};\n    Controller.getInput = (function () {\n        this.input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this.input[inputFields[idx].get('id')] = inputFields[idx].value;\n        }\n    });\n    "],[0,"\n\tva"]],"start1":613,"start2":613,"length1":44,"length2":357}]],"length":5671,"saved":false}
{"ts":1351737462308,"patch":[[{"diffs":[[0,"{};\n    "],[-1,"Controller"],[1,"\n    // Handle input\n    Controller.Input = {};\n    Controller.Input"],[0,".getInpu"]],"start1":720,"start2":720,"length1":26,"length2":84},{"diffs":[[0,"       this."],[1,"_"],[0,"input = {};\n"]],"start1":824,"start2":824,"length1":24,"length2":25},{"diffs":[[0,"   this."],[1,"_"],[0,"input[in"]],"start1":935,"start2":935,"length1":16,"length2":17},{"diffs":[[0,"      }\n    "],[-1,"})"],[1,"    \n        this._input.page = this._input.maxPages = 0;\n        \n        global.PubSub.publish('inputChanged', this._input);\n    });\n    app.Controller = Controller"],[0,";\n    \n\tvar "]],"start1":1006,"start2":1006,"length1":26,"length2":190}]],"length":5895,"saved":false}
{"ts":1351737511450,"patch":[[{"diffs":[[0,"ler;"],[-1,"\n    \n\tvar Controller = (function () {\n\t\tvar\n            ctrls       =   $$('.app-input-flds'),\n\t\t\tinput\t\t=\t{},\n\t\t\tobservers\t=\t[];\n            \n\t\tfunction retrieveInput() {\n\t\t\tinput = {};\n\n\t\t\tfor (var idx = 0, l = ctrls.length; idx < l; idx++) {\n\t\t\t\tvar val = ctrls[idx];\n\n\t\t\t\tif (typeOf(val) === 'string') {\n\t\t\t\t\tval == 'site' ?\n\t\t\t\t\t\tinput[val] = $(val) :\n\t\t\t\t\t\tinput[val] = $(val).value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinput.page\t\t\t=\t0;\n\t\t\tinput.maxPages\t\t=\t0;\n\n\t\t\tController.TableCtrls.resetPageCount();\n\t\t\tController.notify();\n\t\t}"],[0,"\n\n\t\t"]],"start1":1181,"start2":1181,"length1":527,"length2":8}]],"length":5376,"saved":false}
{"ts":1351737585116,"patch":[[{"diffs":[[0,"Fields ="],[1,"  "],[0," $$('.ap"]],"start1":626,"start2":626,"length1":16,"length2":18},{"diffs":[[0,"t-flds')"],[1,",\n        dateFields  =   $$('.app-input-flds-date')"],[0,";\n    /*"]],"start1":650,"start2":650,"length1":16,"length2":68},{"diffs":[[0,"t);\n    });\n"],[1,"    Controller.Input.init = (function () {\n        \n    });\n"],[0,"    app.Cont"]],"start1":1195,"start2":1195,"length1":24,"length2":84}]],"length":5490,"saved":false}
{"ts":1351737588374,"patch":[[{"diffs":[[0,"date');\n"],[1,"        \n"],[0,"    /**\n"]],"start1":704,"start2":704,"length1":16,"length2":25}]],"length":5499,"saved":false}
{"ts":1351737664926,"patch":[[{"diffs":[[0,") {\n        "],[1,"dateFields.each(function (el) {\n            var datePicker = new global.Picker.Date(el, {\n            });\n        });"],[0,"\n    });\n   "]],"start1":1255,"start2":1255,"length1":24,"length2":141}]],"length":5616,"saved":false}
{"ts":1351738090257,"patch":[[{"diffs":[[0,"(el,"],[-1," {\n            });\n        }"],[1,"\n                app.settings.getDPOptions());\n            el.store('_picker', datePicker);\n        });\n        $('sDate').retrieve('_picker').select(app.settings.FIRST_EVENT);\n        $('eDate').retrieve('_picker').select(new Date()"],[0,");\n "]],"start1":1350,"start2":1350,"length1":36,"length2":241},{"diffs":[[0,", {\n"],[-1,"\t\t\t\t\t\t\tformat:\t\t\t'%x',\n\t\t\t\t\t\t\tpickerClass:\t'datepicker_jqui',\n\t\t\t\t\t\t\tpositionOffset:\t{ x: 0, y: 5 },\n\t\t\t\t\t\t\tyearPicker:\t\ttrue\n"],[0,"\t\t\t\t"]],"start1":1853,"start2":1853,"length1":134,"length2":8}]],"length":5695,"saved":false}
{"ts":1351738125264,"patch":[[{"diffs":[[0,"ew Date());\n"],[1,"        \n"],[0,"    });\n    "]],"start1":1578,"start2":1578,"length1":24,"length2":33}]],"length":5704,"saved":false}
{"ts":1351738309911,"patch":[[{"diffs":[[0,");\n        \n"],[1,"        inputFields.addEvent('change', this.getInput);\n"],[0,"    });\n    "]],"start1":1587,"start2":1587,"length1":24,"length2":79}]],"length":5759,"saved":false}
{"ts":1351738450637,"patch":[[{"diffs":[[0," (function () {\n"],[1,"        _.bindAll(this, 'getInput');\n        \n"],[0,"        dateFiel"]],"start1":1243,"start2":1243,"length1":32,"length2":78}]],"length":5805,"saved":false}
{"ts":1351740034600,"patch":[[{"diffs":[[0,"put."],[-1,"getInput = (function () {\n        this._input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this._input[inputFields[idx].get('id')] = inputFields[idx].value;\n        }\n        \n        this._input.page = this._input.maxPages = 0;\n        \n        global.PubSub.publish('inputChanged', this._input);\n    });\n    Controller.Input."],[0,""],[1,""],[0,"init"]],"start1":856,"start2":856,"length1":385,"length2":8},{"diffs":[[0,"    });\n    "],[-1,"app."],[0,"Controller ="]],"start1":1323,"start2":1323,"length1":28,"length2":24},{"diffs":[[0,"ller"],[-1," = Controller;\n\n\t\treturn {\n\t\t\tinitialize: function () {\n                \n\t\t\t\t// Initialize input fields\n\t\t\t\tctrls.each(function (strId) {\n\t\t\t\t\tif (~strId.toLowerCase().indexOf('date')) {\n\t\t\t\t\t\tvar picker = new global.Picker.Date($(strId), {\n\t\t\t\t\t\t});\n                        \n                        $(strId).store('picker', picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(strId).addEvent('change',\n\t\t\t\t\t\t\t\tController.update.bind(Controller));\n\t\t\t\t\t\t$(strId).addEvent('keypress', function (evt) {\n\t\t\t\t\t\t\t// update if Enter pressed\n\t\t\t\t\t\t\tif (evt.code === 13) {\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(Controller));\n\t\t\t\t\t}\n\t\t\t\t});\n                \n                $('sDate').retrieve('picker').select(app.settings.FIRST_EVENT);\n                $('eDate').retrieve('picker').select(new Date());\n                $$('datepicker_jqui').addEvent('select',"],[1,".Input.getInput = (function () {\n        this._input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this._input[inputFields[idx].get('id')] = inputFields[idx].value;"],[0,"\n   "]],"start1":1341,"start2":1341,"length1":845,"length2":221},{"diffs":[[0,"    "],[1,"}\n"],[0,"        "],[1,"\n"],[0,"    "],[-1,"Controller.update.bind(Controller));\n\n\t\t\t\t// Initialize sliders\n\t\t\t\t$$('.toggle>span').each(function (el) {\n\t\t\t\t\tvar\n\t\t\t\t\t\tsWrap\t=\tel.getParent(),\n\t\t\t\t\t\tsObj\t=\tnew Fx.Slide("],[1,"    this._input.page = this._input.maxPages = 0;"],[0,"\n   "]],"start1":1563,"start2":1563,"length1":193,"length2":71},{"diffs":[[0,"    "],[-1," "],[1,"\n"],[0,"        "],[-1,"           sWrap.getElements('.toggle-target')[0], {\n\t\t\t\t\t\t\t\tduration: 'short',\n\t\t\t\t\t\t\t\tlink: 'chain',\n\t\t\t\t\t\t\t\tresetHeight: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\tsWrap.store('slide', sObj);\n\n\t\t\t\t\tel.addEvent('click', function() {\n\t\t\t\t\t\tif (this.hasClass('active')) {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideOut().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.removeClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideIn().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.addClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(sWrap));\n\t\t\t\t});\n                \n\t\t\t\tthis.TableCtrls = new TableCtrls();\n\t\t\t},\n\t\t\tattach: function () {\n\t\t\t\tfor (var idx = 0, j = arguments, k = arguments.length;\n\t\t\t\t\tidx < k; idx++) {\n\t\t\t\t\tif (j[idx].update) observers.push(j[idx]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget: function (k) {\n\t\t\t\treturn input[k];\n\t\t\t},\n\t\t\tgetInput: function () {\n\t\t\t\treturn input;\n\t\t\t},\n\t\t\tnotify: function () {\n\t\t\t\tfor (var idx = 0, l = observers.length; idx < l; idx++) {\n\t\t\t\t\tobservers[idx].update(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\tset: function (k, v) {\n\t\t\t\treturn input[k] = v;\n\t\t\t},\n\t\t\tupdate: function () {\n\t\t\t\tretrieveInput();\n\t\t\t}\n\t\t"],[1,"global.PubSub.publish('inputChanged', this._input);\n    });\n    \n    // Event query table navigation\n    var tableFields = $$('.event-table-ctrl');\n    Controller.TableNav = {"],[0,"};\n    "],[1,"Con\n"],[0,"    "]],"start1":1635,"start2":1635,"length1":1172,"length2":203},{"diffs":[[0,"on\n    \n    "],[1,"\n"],[0,"    app.Cont"]],"start1":1831,"start2":1831,"length1":24,"length2":25},{"diffs":[[0,"er;\n"],[-1,"\t}) ();\n    \n    var Main = Controller.Main = (function () {\n    });"],[0,"\n   "]],"start1":1873,"start2":1873,"length1":76,"length2":8}]],"length":3642,"saved":false}
{"ts":1351740138273,"patch":[[{"diffs":[[0,"\n    Con"],[1,"troller.TableNav.init = (function () {\n        tableFields.addEvent('click', this.navOnClick);\n    });"],[0,"\n    \n  "]],"start1":1825,"start2":1825,"length1":16,"length2":118}]],"length":3744,"saved":false}
{"ts":1351753657027,"patch":[[{"diffs":[[0,"    });\n    "],[1,"Controller.TableNav.nav = (function (offset) {\n        \n    });\n    Controller.TableNav.navOnClick = (function (evt) {\n        var pageOffset = evt.target.get('data-page-offset');\n        if (!pageOffset) return;\n        \n        this.nav(pageOffset);\n    });"],[0,"\n    \n    ap"]],"start1":1928,"start2":1928,"length1":24,"length2":283}]],"length":4003,"saved":false}
{"ts":1351754504146,"patch":[[{"diffs":[[0,"igation\n"],[1,"    // @@TODO: page/maxPages should not be 'clickable'. page should have change event\n"],[0,"    var "]],"start1":1741,"start2":1741,"length1":16,"length2":102}]],"length":4089,"saved":false}
{"ts":1351754680104,"patch":[[{"diffs":[[0,"TableNav = {"],[1,"\n        this._currPage = this._maxPage = 0;\n    "],[0,"};\n    Contr"]],"start1":1897,"start2":1897,"length1":24,"length2":73}]],"length":4138,"saved":false}
{"ts":1351754707473,"patch":[[{"diffs":[[0,"        "],[-1,"this."],[0,"_currPag"]],"start1":1910,"start2":1910,"length1":21,"length2":16},{"diffs":[[0,"Page"],[-1," = this."],[1,": 0,\n        "],[0,"_maxPage"],[-1," ="],[1,":"],[0," 0"],[-1,";"],[0,"\n   "]],"start1":1923,"start2":1923,"length1":29,"length2":32}]],"length":4136,"saved":false}
{"ts":1351754923595,"patch":[[{"diffs":[[0,"Click);\n"],[1,"        PubSub.subscribe('inputChanged', function (data) {\n            app.Models.Events.fetch(data);\n        });\n"],[0,"    });\n"]],"start1":2053,"start2":2053,"length1":16,"length2":130}]],"length":4250,"saved":false}
{"ts":1351755125272,"patch":[[{"diffs":[[0,"k);\n"],[-1,"        PubSub.subscribe('inputChanged', function (data) {\n            app.Models.Events.fetch(data);\n        });\n"],[0,"    "]],"start1":2057,"start2":2057,"length1":122,"length2":8}]],"length":4136,"saved":false}
{"ts":1351755273459,"patch":[[{"diffs":[[0,") {\n        "],[1,"switch (offset) {\n        case -2:\n            this._currPage = 0;\n            break;\n        case -1:\n            this._currPage--;\n            break;\n        case 1:\n            this._currPage++;\n            break;\n        case 2:\n            this._currPage = this._maxPage - 1;\n            break;\n        }"],[0,"\n    });\n   "]],"start1":2116,"start2":2116,"length1":24,"length2":333}]],"length":4445,"saved":false}
{"ts":1351755307897,"patch":[[{"diffs":[[0,";\n        }\n"],[1,"        // @@TODO Check bounds and enable/disable buttons\n"],[0,"    });\n    "]],"start1":2426,"start2":2426,"length1":24,"length2":82}]],"length":4503,"saved":false}
{"ts":1351755313246,"patch":[[{"diffs":[[0,"reak;\n        }\n"],[1,"        \n"],[0,"        // @@TOD"]],"start1":2422,"start2":2422,"length1":32,"length2":41}]],"length":4512,"saved":false}
{"ts":1351755511072,"patch":[[{"diffs":[[0,"buttons\n"],[1,"        \n        app.Models.Events.fetch({ page: this._currPage });\n"],[0,"    });\n"]],"start1":2497,"start2":2497,"length1":16,"length2":84}]],"length":4580,"saved":false}
{"ts":1351755879642,"patch":[[{"diffs":[[0,"Click);\n    });\n"],[1,"    Controller.TableNav.checkBounds = (function () {\n        if (this._currPage == 0) {\n            $$('.event-table-ctrl.left-motion').addClass('disabled');\n        } else {\n            $$('.event-table-ctrl.left-motion'.removeClass('disabled');\n        }\n        \n        if (this._currPage == this._maxPage - 1) {\n            $$('.event-table-ctrl.right-motion').addClass('disabled');\n        } else {\n            $$('.event-table-ctrl.right-motion').removeClass('disabled');\n        }\n    });\n"],[0,"    Controller.T"]],"start1":2053,"start2":2053,"length1":32,"length2":529}]],"length":5077,"saved":false}
{"ts":1351756013808,"patch":[[{"diffs":[[0,"    "],[-1,"// @@TODO C"],[1,"this.c"],[0,"heck"],[-1," b"],[1,"B"],[0,"ounds"],[-1," and enable/disable buttons"],[1,"();"],[0,"\n   "]],"start1":2948,"start2":2948,"length1":57,"length2":27}]],"length":5047,"saved":false}
{"ts":1351757465498,"patch":[[{"diffs":[[0,"-motion'"],[1,")"],[0,".removeC"]],"start1":2282,"start2":2282,"length1":16,"length2":17}]],"length":5048,"saved":false}
{"ts":1351757474588,"patch":[[{"diffs":[[0,"rPage =="],[1,"="],[0," 0) {\n  "]],"start1":2143,"start2":2143,"length1":16,"length2":17}]],"length":5049,"saved":false}
{"ts":1351757536964,"patch":[[{"diffs":[[0,"Click);\n"],[1,"        \n        global.PubSub.subscribe('inputChanged', function () {\n            this._currPage: 0;\n        });\n"],[0,"    });\n"]],"start1":2053,"start2":2053,"length1":16,"length2":130}]],"length":5163,"saved":false}
{"ts":1351757540132,"patch":[[{"diffs":[[0,"currPage"],[-1,":"],[1," ="],[0," 0;\n    "]],"start1":2150,"start2":2150,"length1":17,"length2":18}]],"length":5164,"saved":false}
{"ts":1351757572415,"patch":[[{"diffs":[[0,"urrPage });\n"],[1,"        // @@TODO set page/maxPages\n"],[0,"    });\n    "]],"start1":3145,"start2":3145,"length1":24,"length2":60}]],"length":5200,"saved":false}
{"ts":1351757586442,"patch":[[{"diffs":[[0,"r;\n\n"],[-1,"    \n\tvar TableCtrls = (function () {\n\t\tvar\t$super\t\t=\tController,\n\t\t\tsettings    =\t{\n\t\t\t\tfirst:\t'table-ctrl-first',\n\t\t\t\tlast:\t'table-ctrl-last',\n\t\t\t\tnext:\t'table-ctrl-next',\n\t\t\t\tprev:\t'table-ctrl-prev',\n\n\t\t\t\tmaxPages:\t'table-ctrl-total',\n\t\t\t\tpage:\t\t'table-ctrl-page'\n\t\t\t};\n\t\treturn new Class({\n\t\t\tinitialize: function () {\n\t\t\t\t$(settings.first).addEvent('click', this.gotoPage(-2));\n\t\t\t\t$(settings.last).addEvent('click', this.gotoPage(2));\n\t\t\t\t$(settings.next).addEvent('click', this.gotoPage(1));\n\t\t\t\t$(settings.prev).addEvent('click', this.gotoPage(-1));\n\n\t\t\t\t$(settings.page).addEvent('change', function () {\n\t\t\t\t\tthis.setCurrentPage($(settings.page).get('value') - 1);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tgotoPage: function (opt) {\n\t\t\t\tvar     target\t=\t0,\n\t\t\t\t\t    navOpt\t=\topt;\n\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar\n\t\t\t\t\t\tcurrPage\t=\t$super.get('page'),\n\t\t\t\t\t\tmaxPages\t=\t$super.get('maxPages');\n\n\t\t\t\t\tswitch (navOpt) {\n\t\t\t\t\tcase -2: // First\n\t\t\t\t\t\ttarget = 0; break;\n\t\t\t\t\tcase -1: // Prev\n\t\t\t\t\t\ttarget = currPage - 1; break;\n\t\t\t\t\tcase 1: // Next\n\t\t\t\t\t\ttarget = currPage + 1; break;\n\t\t\t\t\tcase 2: // Last\n\t\t\t\t\t\ttarget = maxPages - 1; break;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCurrentPage(target);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tresetPageCount: function () {\n\t\t\t\t$(settings.page).set('value', 1);\n\t\t\t},\n\t\t\tsetCurrentPage: function (inputNum) {\n\t\t\t\tvar pageNum = parseInt(inputNum, 10);\n\t\t\t\tif (pageNum < 0 || pageNum >= $super.get('maxPages')) {\n\t\t\t\t\t$(settings.page).set('value', $super.get('page') + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$(settings.page).set('value', pageNum + 1);\n\t\t\t\t$super.set('page', pageNum);\n\t\t\t\t$super.notify();\n\t\t\t},\n\t\t\tsetMaxPages: function (maxPages) {\n\t\t\t\t$super.set('maxPages', maxPages);\n\t\t\t\t$(settings.maxPages).set('text', maxPages);\n\t\t\t}\n\t\t});\n\t}) ();\n\n"],[0,"}) ("]],"start1":3432,"start2":3432,"length1":1761,"length2":8}]],"length":3447,"saved":false}
{"ts":1351757598929,"patch":[[{"diffs":[[0,"ler\n"],[-1," * - initialize()\n * - attach()\n * - get(k)\n * - getInput()\n * - notify()\n * - set(k, v)\n * - update()\n * \n *     TableCtrls\n *     - initialize()\n *     - gotoPage(opt)\n *     - resetPageCount()\n *     - setCurrentPage(inputNum)\n *     - setMaxPages(maxPages)\n"],[0," */\n"]],"start1":300,"start2":300,"length1":269,"length2":8}]],"length":3186,"saved":false}
{"ts":1351807963083,"patch":[[{"diffs":[[0,"urrPage });\n"],[1,"        \n        $('table-ctrl-page').set('value', this._currPage + 1);\n        $('table-ctrl-total').set('text', this._maxPages);\n"],[0,"        // @"]],"start1":2884,"start2":2884,"length1":24,"length2":155}]],"length":3317,"saved":false}
{"ts":1351807966757,"patch":[[{"diffs":[[0,"s);\n"],[-1,"        // @@TODO set page/maxPages\n"],[0,"    "]],"start1":3023,"start2":3023,"length1":44,"length2":8}]],"length":3281,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351873384424,"patch":[[{"diffs":[[0,"ngs."],[-1,"getDPOptions()"],[1,"DP_SETTINGS"],[0,");\n "]],"start1":788,"start2":788,"length1":22,"length2":19}]],"length":3278,"saved":false}
