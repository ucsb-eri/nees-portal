{"ts":1351734323144,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/* vim: set tabstop=4 shiftwidth=4: */\n/*jslint mootools:true */\n\n/**\n * Handles user input\n * \n * -----------------------------------------------------------------------------\n * Layout\n * -----------------------------------------------------------------------------\n * Controller\n * - initialize()\n * - attach()\n * - get(k)\n * - getInput()\n * - notify()\n * - set(k, v)\n * - update()\n * \n *     TableCtrls\n *     - initialize()\n *     - gotoPage(opt)\n *     - resetPageCount()\n *     - setCurrentPage(inputNum)\n *     - setMaxPages(maxPages)\n */\n(function (global) {\n    'use strict';\n    \n    /**\n     * Handle user input\n     */\n\tvar Controller = global.Controller = (function () {\n\t\tvar\n\t\t\tctrls\t\t=\t[\"site\", \"radius\", \"minMag\", \"maxMag\", \"sDate\",\n                \"eDate\", \"itemsPerPage\"],\n\t\t\tinput\t\t=\t{},\n\t\t\tobservers\t=\t[];\n            \n\t\tfunction retrieveInput() {\n\t\t\tinput = {};\n\n\t\t\tfor (var idx = 0, l = ctrls.length; idx < l; idx++) {\n\t\t\t\tvar val = ctrls[idx];\n\n\t\t\t\tif (typeOf(val) === 'string') {\n\t\t\t\t\tval == 'site' ?\n\t\t\t\t\t\tinput[val] = $(val) :\n\t\t\t\t\t\tinput[val] = $(val).value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinput.page\t\t\t=\t0;\n\t\t\tinput.maxPages\t\t=\t0;\n\n\t\t\tController.TableCtrls.resetPageCount();\n\t\t\tController.notify();\n\t\t}\n\n\t\treturn {\n\t\t\tinitialize: function () {\n                var firstEvent = new Date(0);\n                firstEvent.setUTCSeconds(979439174);\n                \n\t\t\t\t// Initialize input fields\n\t\t\t\tctrls.each(function (strId) {\n\t\t\t\t\tif (~strId.toLowerCase().indexOf('date')) {\n\t\t\t\t\t\tvar picker = new global.Picker.Date($(strId), {\n\t\t\t\t\t\t\tformat:\t\t\t'%x',\n\t\t\t\t\t\t\tpickerClass:\t'datepicker_jqui',\n\t\t\t\t\t\t\tpositionOffset:\t{ x: 0, y: 5 },\n\t\t\t\t\t\t\tyearPicker:\t\ttrue\n\t\t\t\t\t\t});\n                        \n                        $(strId).store('picker', picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(strId).addEvent('change',\n\t\t\t\t\t\t\t\tController.update.bind(Controller));\n\t\t\t\t\t\t$(strId).addEvent('keypress', function (evt) {\n\t\t\t\t\t\t\t// update if Enter pressed\n\t\t\t\t\t\t\tif (evt.code === 13) {\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(Controller));\n\t\t\t\t\t}\n\t\t\t\t});\n                \n                $('sDate').retrieve('picker').select(firstEvent);\n                $('eDate').retrieve('picker').select(new Date());\n                $$('datepicker_jqui').addEvent('select',\n                    Controller.update.bind(Controller));\n\n\t\t\t\t// Initialize sliders\n\t\t\t\t$$('.toggle>span').each(function (el) {\n\t\t\t\t\tvar\n\t\t\t\t\t\tsWrap\t=\tel.getParent(),\n\t\t\t\t\t\tsObj\t=\tnew Fx.Slide(\n                            sWrap.getElements('.toggle-target')[0], {\n\t\t\t\t\t\t\t\tduration: 'short',\n\t\t\t\t\t\t\t\tlink: 'chain',\n\t\t\t\t\t\t\t\tresetHeight: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\tsWrap.store('slide', sObj);\n\n\t\t\t\t\tel.addEvent('click', function() {\n\t\t\t\t\t\tif (this.hasClass('active')) {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideOut().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.removeClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideIn().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.addClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(sWrap));\n\t\t\t\t});\n                \n\t\t\t\tthis.TableCtrls = new TableCtrls();\n\t\t\t},\n\t\t\tattach: function () {\n\t\t\t\tfor (var idx = 0, j = arguments, k = arguments.length;\n\t\t\t\t\tidx < k; idx++) {\n\t\t\t\t\tif (j[idx].update) observers.push(j[idx]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget: function (k) {\n\t\t\t\treturn input[k];\n\t\t\t},\n\t\t\tgetInput: function () {\n\t\t\t\treturn input;\n\t\t\t},\n\t\t\tnotify: function () {\n\t\t\t\tfor (var idx = 0, l = observers.length; idx < l; idx++) {\n\t\t\t\t\tobservers[idx].update(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\tset: function (k, v) {\n\t\t\t\treturn input[k] = v;\n\t\t\t},\n\t\t\tupdate: function () {\n\t\t\t\tretrieveInput();\n\t\t\t}\n\t\t};\n\t}) ();\n    \n    var Main = Controller.Main = (function () {\n    });\n    \n\tvar TableCtrls = (function () {\n\t\tvar\t$super\t\t=\tController,\n\t\t\tsettings    =\t{\n\t\t\t\tfirst:\t'table-ctrl-first',\n\t\t\t\tlast:\t'table-ctrl-last',\n\t\t\t\tnext:\t'table-ctrl-next',\n\t\t\t\tprev:\t'table-ctrl-prev',\n\n\t\t\t\tmaxPages:\t'table-ctrl-total',\n\t\t\t\tpage:\t\t'table-ctrl-page'\n\t\t\t};\n\t\treturn new Class({\n\t\t\tinitialize: function () {\n\t\t\t\t$(settings.first).addEvent('click', this.gotoPage(-2));\n\t\t\t\t$(settings.last).addEvent('click', this.gotoPage(2));\n\t\t\t\t$(settings.next).addEvent('click', this.gotoPage(1));\n\t\t\t\t$(settings.prev).addEvent('click', this.gotoPage(-1));\n\n\t\t\t\t$(settings.page).addEvent('change', function () {\n\t\t\t\t\tthis.setCurrentPage($(settings.page).get('value') - 1);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tgotoPage: function (opt) {\n\t\t\t\tvar     target\t=\t0,\n\t\t\t\t\t    navOpt\t=\topt;\n\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar\n\t\t\t\t\t\tcurrPage\t=\t$super.get('page'),\n\t\t\t\t\t\tmaxPages\t=\t$super.get('maxPages');\n\n\t\t\t\t\tswitch (navOpt) {\n\t\t\t\t\tcase -2: // First\n\t\t\t\t\t\ttarget = 0; break;\n\t\t\t\t\tcase -1: // Prev\n\t\t\t\t\t\ttarget = currPage - 1; break;\n\t\t\t\t\tcase 1: // Next\n\t\t\t\t\t\ttarget = currPage + 1; break;\n\t\t\t\t\tcase 2: // Last\n\t\t\t\t\t\ttarget = maxPages - 1; break;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCurrentPage(target);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tresetPageCount: function () {\n\t\t\t\t$(settings.page).set('value', 1);\n\t\t\t},\n\t\t\tsetCurrentPage: function (inputNum) {\n\t\t\t\tvar pageNum = parseInt(inputNum, 10);\n\t\t\t\tif (pageNum < 0 || pageNum >= $super.get('maxPages')) {\n\t\t\t\t\t$(settings.page).set('value', $super.get('page') + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$(settings.page).set('value', pageNum + 1);\n\t\t\t\t$super.set('page', pageNum);\n\t\t\t\t$super.notify();\n\t\t\t},\n\t\t\tsetMaxPages: function (maxPages) {\n\t\t\t\t$super.set('maxPages', maxPages);\n\t\t\t\t$(settings.maxPages).set('text', maxPages);\n\t\t\t}\n\t\t});\n\t}) ();\n\n}) (this);\n"]],"start1":0,"start2":0,"length1":0,"length2":5446}]],"length":5446}
{"contributors":[],"silentsave":false,"ts":1351734835684,"patch":[[{"diffs":[[0,"rue */\n\n"],[1,"var app = app || {};\n\n"],[0,"/**\n * H"]],"start1":58,"start2":58,"length1":16,"length2":38},{"diffs":[[0,") {\n"],[-1,"                var firstEvent = new Date(0);\n                firstEvent.setUTCSeconds(979439174);\n"],[0,"    "]],"start1":1276,"start2":1276,"length1":107,"length2":8}]],"length":5369,"saved":false}
{"ts":1351735036310,"patch":[[{"diffs":[[0,"er ="],[-1," global.Controller ="],[0," (fu"]],"start1":667,"start2":667,"length1":28,"length2":8},{"diffs":[[0,"\t}\n\t\t};\n"],[1,"        \n        app.Controller = Controller;\n"],[0,"\t}) ();\n"]],"start1":3508,"start2":3508,"length1":16,"length2":62}]],"length":5395,"saved":false}
{"ts":1351736588569,"patch":[[{"diffs":[[0,"var\n"],[-1,"\t\t\tctrls\t\t=\t[\"site\", \"radius\", \"minMag\", \"maxMag\", \"sDate\",\n"],[1,"      "],[0,"      "],[1,"ctrls"],[0,"       "],[1,"="],[0,"   "],[-1,"\"eDate\", \"itemsPerPage\"]"],[1,"$$('.app-input-flds')"],[0,",\n\t\t"]],"start1":689,"start2":689,"length1":108,"length2":57}]],"length":5344,"saved":false}
{"ts":1351736620505,"patch":[[{"diffs":[[0,"ect("],[-1,"firstEvent"],[1,"app.settings.FIRST_EVENT"],[0,");\n "]],"start1":1963,"start2":1963,"length1":18,"length2":32}]],"length":5358,"saved":false}
{"ts":1351736957337,"patch":[[{"diffs":[[0,"    "],[-1,"/**\n     * Handle user input\n     */"],[1,"var inputFields = $$('.app-input-flds');\n    /**\n     * Handle user input\n     */\n    var Controller = {};\n    Controller.getInput = (function () {\n        this.input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this.input[inputFields[idx].get('id')] = inputFields[idx].value;\n        }\n    });\n    "],[0,"\n\tva"]],"start1":613,"start2":613,"length1":44,"length2":357}]],"length":5671,"saved":false}
{"ts":1351737462308,"patch":[[{"diffs":[[0,"{};\n    "],[-1,"Controller"],[1,"\n    // Handle input\n    Controller.Input = {};\n    Controller.Input"],[0,".getInpu"]],"start1":720,"start2":720,"length1":26,"length2":84},{"diffs":[[0,"       this."],[1,"_"],[0,"input = {};\n"]],"start1":824,"start2":824,"length1":24,"length2":25},{"diffs":[[0,"   this."],[1,"_"],[0,"input[in"]],"start1":935,"start2":935,"length1":16,"length2":17},{"diffs":[[0,"      }\n    "],[-1,"})"],[1,"    \n        this._input.page = this._input.maxPages = 0;\n        \n        global.PubSub.publish('inputChanged', this._input);\n    });\n    app.Controller = Controller"],[0,";\n    \n\tvar "]],"start1":1006,"start2":1006,"length1":26,"length2":190}]],"length":5895,"saved":false}
{"ts":1351737511450,"patch":[[{"diffs":[[0,"ler;"],[-1,"\n    \n\tvar Controller = (function () {\n\t\tvar\n            ctrls       =   $$('.app-input-flds'),\n\t\t\tinput\t\t=\t{},\n\t\t\tobservers\t=\t[];\n            \n\t\tfunction retrieveInput() {\n\t\t\tinput = {};\n\n\t\t\tfor (var idx = 0, l = ctrls.length; idx < l; idx++) {\n\t\t\t\tvar val = ctrls[idx];\n\n\t\t\t\tif (typeOf(val) === 'string') {\n\t\t\t\t\tval == 'site' ?\n\t\t\t\t\t\tinput[val] = $(val) :\n\t\t\t\t\t\tinput[val] = $(val).value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinput.page\t\t\t=\t0;\n\t\t\tinput.maxPages\t\t=\t0;\n\n\t\t\tController.TableCtrls.resetPageCount();\n\t\t\tController.notify();\n\t\t}"],[0,"\n\n\t\t"]],"start1":1181,"start2":1181,"length1":527,"length2":8}]],"length":5376,"saved":false}
{"ts":1351737585116,"patch":[[{"diffs":[[0,"Fields ="],[1,"  "],[0," $$('.ap"]],"start1":626,"start2":626,"length1":16,"length2":18},{"diffs":[[0,"t-flds')"],[1,",\n        dateFields  =   $$('.app-input-flds-date')"],[0,";\n    /*"]],"start1":650,"start2":650,"length1":16,"length2":68},{"diffs":[[0,"t);\n    });\n"],[1,"    Controller.Input.init = (function () {\n        \n    });\n"],[0,"    app.Cont"]],"start1":1195,"start2":1195,"length1":24,"length2":84}]],"length":5490,"saved":false}
{"ts":1351737588374,"patch":[[{"diffs":[[0,"date');\n"],[1,"        \n"],[0,"    /**\n"]],"start1":704,"start2":704,"length1":16,"length2":25}]],"length":5499,"saved":false}
{"ts":1351737664926,"patch":[[{"diffs":[[0,") {\n        "],[1,"dateFields.each(function (el) {\n            var datePicker = new global.Picker.Date(el, {\n            });\n        });"],[0,"\n    });\n   "]],"start1":1255,"start2":1255,"length1":24,"length2":141}]],"length":5616,"saved":false}
{"ts":1351738090257,"patch":[[{"diffs":[[0,"(el,"],[-1," {\n            });\n        }"],[1,"\n                app.settings.getDPOptions());\n            el.store('_picker', datePicker);\n        });\n        $('sDate').retrieve('_picker').select(app.settings.FIRST_EVENT);\n        $('eDate').retrieve('_picker').select(new Date()"],[0,");\n "]],"start1":1350,"start2":1350,"length1":36,"length2":241},{"diffs":[[0,", {\n"],[-1,"\t\t\t\t\t\t\tformat:\t\t\t'%x',\n\t\t\t\t\t\t\tpickerClass:\t'datepicker_jqui',\n\t\t\t\t\t\t\tpositionOffset:\t{ x: 0, y: 5 },\n\t\t\t\t\t\t\tyearPicker:\t\ttrue\n"],[0,"\t\t\t\t"]],"start1":1853,"start2":1853,"length1":134,"length2":8}]],"length":5695,"saved":false}
{"ts":1351738125264,"patch":[[{"diffs":[[0,"ew Date());\n"],[1,"        \n"],[0,"    });\n    "]],"start1":1578,"start2":1578,"length1":24,"length2":33}]],"length":5704,"saved":false}
{"ts":1351738309911,"patch":[[{"diffs":[[0,");\n        \n"],[1,"        inputFields.addEvent('change', this.getInput);\n"],[0,"    });\n    "]],"start1":1587,"start2":1587,"length1":24,"length2":79}]],"length":5759,"saved":false}
{"ts":1351738450637,"patch":[[{"diffs":[[0," (function () {\n"],[1,"        _.bindAll(this, 'getInput');\n        \n"],[0,"        dateFiel"]],"start1":1243,"start2":1243,"length1":32,"length2":78}]],"length":5805,"saved":false}
{"ts":1351740034600,"patch":[[{"diffs":[[0,"put."],[-1,"getInput = (function () {\n        this._input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this._input[inputFields[idx].get('id')] = inputFields[idx].value;\n        }\n        \n        this._input.page = this._input.maxPages = 0;\n        \n        global.PubSub.publish('inputChanged', this._input);\n    });\n    Controller.Input."],[0,""],[1,""],[0,"init"]],"start1":856,"start2":856,"length1":385,"length2":8},{"diffs":[[0,"    });\n    "],[-1,"app."],[0,"Controller ="]],"start1":1323,"start2":1323,"length1":28,"length2":24},{"diffs":[[0,"ller"],[-1," = Controller;\n\n\t\treturn {\n\t\t\tinitialize: function () {\n                \n\t\t\t\t// Initialize input fields\n\t\t\t\tctrls.each(function (strId) {\n\t\t\t\t\tif (~strId.toLowerCase().indexOf('date')) {\n\t\t\t\t\t\tvar picker = new global.Picker.Date($(strId), {\n\t\t\t\t\t\t});\n                        \n                        $(strId).store('picker', picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(strId).addEvent('change',\n\t\t\t\t\t\t\t\tController.update.bind(Controller));\n\t\t\t\t\t\t$(strId).addEvent('keypress', function (evt) {\n\t\t\t\t\t\t\t// update if Enter pressed\n\t\t\t\t\t\t\tif (evt.code === 13) {\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(Controller));\n\t\t\t\t\t}\n\t\t\t\t});\n                \n                $('sDate').retrieve('picker').select(app.settings.FIRST_EVENT);\n                $('eDate').retrieve('picker').select(new Date());\n                $$('datepicker_jqui').addEvent('select',"],[1,".Input.getInput = (function () {\n        this._input = {};\n        \n        for (var idx = 0, l = inputFields.length; idx < l; idx++) {\n            this._input[inputFields[idx].get('id')] = inputFields[idx].value;"],[0,"\n   "]],"start1":1341,"start2":1341,"length1":845,"length2":221},{"diffs":[[0,"    "],[1,"}\n"],[0,"        "],[1,"\n"],[0,"    "],[-1,"Controller.update.bind(Controller));\n\n\t\t\t\t// Initialize sliders\n\t\t\t\t$$('.toggle>span').each(function (el) {\n\t\t\t\t\tvar\n\t\t\t\t\t\tsWrap\t=\tel.getParent(),\n\t\t\t\t\t\tsObj\t=\tnew Fx.Slide("],[1,"    this._input.page = this._input.maxPages = 0;"],[0,"\n   "]],"start1":1563,"start2":1563,"length1":193,"length2":71},{"diffs":[[0,"    "],[-1," "],[1,"\n"],[0,"        "],[-1,"           sWrap.getElements('.toggle-target')[0], {\n\t\t\t\t\t\t\t\tduration: 'short',\n\t\t\t\t\t\t\t\tlink: 'chain',\n\t\t\t\t\t\t\t\tresetHeight: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\tsWrap.store('slide', sObj);\n\n\t\t\t\t\tel.addEvent('click', function() {\n\t\t\t\t\t\tif (this.hasClass('active')) {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideOut().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.removeClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.retrieve('slide').slideIn().chain(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\tthis.addClass('active');\n\t\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(sWrap));\n\t\t\t\t});\n                \n\t\t\t\tthis.TableCtrls = new TableCtrls();\n\t\t\t},\n\t\t\tattach: function () {\n\t\t\t\tfor (var idx = 0, j = arguments, k = arguments.length;\n\t\t\t\t\tidx < k; idx++) {\n\t\t\t\t\tif (j[idx].update) observers.push(j[idx]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget: function (k) {\n\t\t\t\treturn input[k];\n\t\t\t},\n\t\t\tgetInput: function () {\n\t\t\t\treturn input;\n\t\t\t},\n\t\t\tnotify: function () {\n\t\t\t\tfor (var idx = 0, l = observers.length; idx < l; idx++) {\n\t\t\t\t\tobservers[idx].update(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\tset: function (k, v) {\n\t\t\t\treturn input[k] = v;\n\t\t\t},\n\t\t\tupdate: function () {\n\t\t\t\tretrieveInput();\n\t\t\t}\n\t\t"],[1,"global.PubSub.publish('inputChanged', this._input);\n    });\n    \n    // Event query table navigation\n    var tableFields = $$('.event-table-ctrl');\n    Controller.TableNav = {"],[0,"};\n    "],[1,"Con\n"],[0,"    "]],"start1":1635,"start2":1635,"length1":1172,"length2":203},{"diffs":[[0,"on\n    \n    "],[1,"\n"],[0,"    app.Cont"]],"start1":1831,"start2":1831,"length1":24,"length2":25},{"diffs":[[0,"er;\n"],[-1,"\t}) ();\n    \n    var Main = Controller.Main = (function () {\n    });"],[0,"\n   "]],"start1":1873,"start2":1873,"length1":76,"length2":8}]],"length":3642,"saved":false}
{"ts":1351740138273,"patch":[[{"diffs":[[0,"\n    Con"],[1,"troller.TableNav.init = (function () {\n        tableFields.addEvent('click', this.navOnClick);\n    });"],[0,"\n    \n  "]],"start1":1825,"start2":1825,"length1":16,"length2":118}]],"length":3744,"saved":false}
{"ts":1351753657027,"patch":[[{"diffs":[[0,"    });\n    "],[1,"Controller.TableNav.nav = (function (offset) {\n        \n    });\n    Controller.TableNav.navOnClick = (function (evt) {\n        var pageOffset = evt.target.get('data-page-offset');\n        if (!pageOffset) return;\n        \n        this.nav(pageOffset);\n    });"],[0,"\n    \n    ap"]],"start1":1928,"start2":1928,"length1":24,"length2":283}]],"length":4003,"saved":false}
{"ts":1351754504146,"patch":[[{"diffs":[[0,"igation\n"],[1,"    // @@TODO: page/maxPages should not be 'clickable'. page should have change event\n"],[0,"    var "]],"start1":1741,"start2":1741,"length1":16,"length2":102}]],"length":4089,"saved":false}
{"ts":1351754680104,"patch":[[{"diffs":[[0,"TableNav = {"],[1,"\n        this._currPage = this._maxPage = 0;\n    "],[0,"};\n    Contr"]],"start1":1897,"start2":1897,"length1":24,"length2":73}]],"length":4138,"saved":false}
{"ts":1351754707473,"patch":[[{"diffs":[[0,"        "],[-1,"this."],[0,"_currPag"]],"start1":1910,"start2":1910,"length1":21,"length2":16},{"diffs":[[0,"Page"],[-1," = this."],[1,": 0,\n        "],[0,"_maxPage"],[-1," ="],[1,":"],[0," 0"],[-1,";"],[0,"\n   "]],"start1":1923,"start2":1923,"length1":29,"length2":32}]],"length":4136,"saved":false}
{"ts":1351754923595,"patch":[[{"diffs":[[0,"Click);\n"],[1,"        PubSub.subscribe('inputChanged', function (data) {\n            app.Models.Events.fetch(data);\n        });\n"],[0,"    });\n"]],"start1":2053,"start2":2053,"length1":16,"length2":130}]],"length":4250,"saved":false}
{"ts":1351755125272,"patch":[[{"diffs":[[0,"k);\n"],[-1,"        PubSub.subscribe('inputChanged', function (data) {\n            app.Models.Events.fetch(data);\n        });\n"],[0,"    "]],"start1":2057,"start2":2057,"length1":122,"length2":8}]],"length":4136,"saved":false}
{"ts":1351755273459,"patch":[[{"diffs":[[0,") {\n        "],[1,"switch (offset) {\n        case -2:\n            this._currPage = 0;\n            break;\n        case -1:\n            this._currPage--;\n            break;\n        case 1:\n            this._currPage++;\n            break;\n        case 2:\n            this._currPage = this._maxPage - 1;\n            break;\n        }"],[0,"\n    });\n   "]],"start1":2116,"start2":2116,"length1":24,"length2":333}]],"length":4445,"saved":false}
{"ts":1351755307897,"patch":[[{"diffs":[[0,";\n        }\n"],[1,"        // @@TODO Check bounds and enable/disable buttons\n"],[0,"    });\n    "]],"start1":2426,"start2":2426,"length1":24,"length2":82}]],"length":4503,"saved":false}
{"ts":1351755313246,"patch":[[{"diffs":[[0,"reak;\n        }\n"],[1,"        \n"],[0,"        // @@TOD"]],"start1":2422,"start2":2422,"length1":32,"length2":41}]],"length":4512,"saved":false}
{"ts":1351755511072,"patch":[[{"diffs":[[0,"buttons\n"],[1,"        \n        app.Models.Events.fetch({ page: this._currPage });\n"],[0,"    });\n"]],"start1":2497,"start2":2497,"length1":16,"length2":84}]],"length":4580,"saved":false}
{"ts":1351755879642,"patch":[[{"diffs":[[0,"Click);\n    });\n"],[1,"    Controller.TableNav.checkBounds = (function () {\n        if (this._currPage == 0) {\n            $$('.event-table-ctrl.left-motion').addClass('disabled');\n        } else {\n            $$('.event-table-ctrl.left-motion'.removeClass('disabled');\n        }\n        \n        if (this._currPage == this._maxPage - 1) {\n            $$('.event-table-ctrl.right-motion').addClass('disabled');\n        } else {\n            $$('.event-table-ctrl.right-motion').removeClass('disabled');\n        }\n    });\n"],[0,"    Controller.T"]],"start1":2053,"start2":2053,"length1":32,"length2":529}]],"length":5077,"saved":false}
{"ts":1351756013808,"patch":[[{"diffs":[[0,"    "],[-1,"// @@TODO C"],[1,"this.c"],[0,"heck"],[-1," b"],[1,"B"],[0,"ounds"],[-1," and enable/disable buttons"],[1,"();"],[0,"\n   "]],"start1":2948,"start2":2948,"length1":57,"length2":27}]],"length":5047,"saved":false}
{"ts":1351757465498,"patch":[[{"diffs":[[0,"-motion'"],[1,")"],[0,".removeC"]],"start1":2282,"start2":2282,"length1":16,"length2":17}]],"length":5048,"saved":false}
{"ts":1351757474588,"patch":[[{"diffs":[[0,"rPage =="],[1,"="],[0," 0) {\n  "]],"start1":2143,"start2":2143,"length1":16,"length2":17}]],"length":5049,"saved":false}
{"ts":1351757536964,"patch":[[{"diffs":[[0,"Click);\n"],[1,"        \n        global.PubSub.subscribe('inputChanged', function () {\n            this._currPage: 0;\n        });\n"],[0,"    });\n"]],"start1":2053,"start2":2053,"length1":16,"length2":130}]],"length":5163,"saved":false}
{"ts":1351757540132,"patch":[[{"diffs":[[0,"currPage"],[-1,":"],[1," ="],[0," 0;\n    "]],"start1":2150,"start2":2150,"length1":17,"length2":18}]],"length":5164,"saved":false}
{"ts":1351757572415,"patch":[[{"diffs":[[0,"urrPage });\n"],[1,"        // @@TODO set page/maxPages\n"],[0,"    });\n    "]],"start1":3145,"start2":3145,"length1":24,"length2":60}]],"length":5200,"saved":false}
{"ts":1351757586442,"patch":[[{"diffs":[[0,"r;\n\n"],[-1,"    \n\tvar TableCtrls = (function () {\n\t\tvar\t$super\t\t=\tController,\n\t\t\tsettings    =\t{\n\t\t\t\tfirst:\t'table-ctrl-first',\n\t\t\t\tlast:\t'table-ctrl-last',\n\t\t\t\tnext:\t'table-ctrl-next',\n\t\t\t\tprev:\t'table-ctrl-prev',\n\n\t\t\t\tmaxPages:\t'table-ctrl-total',\n\t\t\t\tpage:\t\t'table-ctrl-page'\n\t\t\t};\n\t\treturn new Class({\n\t\t\tinitialize: function () {\n\t\t\t\t$(settings.first).addEvent('click', this.gotoPage(-2));\n\t\t\t\t$(settings.last).addEvent('click', this.gotoPage(2));\n\t\t\t\t$(settings.next).addEvent('click', this.gotoPage(1));\n\t\t\t\t$(settings.prev).addEvent('click', this.gotoPage(-1));\n\n\t\t\t\t$(settings.page).addEvent('change', function () {\n\t\t\t\t\tthis.setCurrentPage($(settings.page).get('value') - 1);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tgotoPage: function (opt) {\n\t\t\t\tvar     target\t=\t0,\n\t\t\t\t\t    navOpt\t=\topt;\n\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar\n\t\t\t\t\t\tcurrPage\t=\t$super.get('page'),\n\t\t\t\t\t\tmaxPages\t=\t$super.get('maxPages');\n\n\t\t\t\t\tswitch (navOpt) {\n\t\t\t\t\tcase -2: // First\n\t\t\t\t\t\ttarget = 0; break;\n\t\t\t\t\tcase -1: // Prev\n\t\t\t\t\t\ttarget = currPage - 1; break;\n\t\t\t\t\tcase 1: // Next\n\t\t\t\t\t\ttarget = currPage + 1; break;\n\t\t\t\t\tcase 2: // Last\n\t\t\t\t\t\ttarget = maxPages - 1; break;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCurrentPage(target);\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\tresetPageCount: function () {\n\t\t\t\t$(settings.page).set('value', 1);\n\t\t\t},\n\t\t\tsetCurrentPage: function (inputNum) {\n\t\t\t\tvar pageNum = parseInt(inputNum, 10);\n\t\t\t\tif (pageNum < 0 || pageNum >= $super.get('maxPages')) {\n\t\t\t\t\t$(settings.page).set('value', $super.get('page') + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$(settings.page).set('value', pageNum + 1);\n\t\t\t\t$super.set('page', pageNum);\n\t\t\t\t$super.notify();\n\t\t\t},\n\t\t\tsetMaxPages: function (maxPages) {\n\t\t\t\t$super.set('maxPages', maxPages);\n\t\t\t\t$(settings.maxPages).set('text', maxPages);\n\t\t\t}\n\t\t});\n\t}) ();\n\n"],[0,"}) ("]],"start1":3432,"start2":3432,"length1":1761,"length2":8}]],"length":3447,"saved":false}
{"ts":1351757598929,"patch":[[{"diffs":[[0,"ler\n"],[-1," * - initialize()\n * - attach()\n * - get(k)\n * - getInput()\n * - notify()\n * - set(k, v)\n * - update()\n * \n *     TableCtrls\n *     - initialize()\n *     - gotoPage(opt)\n *     - resetPageCount()\n *     - setCurrentPage(inputNum)\n *     - setMaxPages(maxPages)\n"],[0," */\n"]],"start1":300,"start2":300,"length1":269,"length2":8}]],"length":3186,"saved":false}
{"ts":1351807963083,"patch":[[{"diffs":[[0,"urrPage });\n"],[1,"        \n        $('table-ctrl-page').set('value', this._currPage + 1);\n        $('table-ctrl-total').set('text', this._maxPages);\n"],[0,"        // @"]],"start1":2884,"start2":2884,"length1":24,"length2":155}]],"length":3317,"saved":false}
{"ts":1351807966757,"patch":[[{"diffs":[[0,"s);\n"],[-1,"        // @@TODO set page/maxPages\n"],[0,"    "]],"start1":3023,"start2":3023,"length1":44,"length2":8}]],"length":3281,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351873384424,"patch":[[{"diffs":[[0,"ngs."],[-1,"getDPOptions()"],[1,"DP_SETTINGS"],[0,");\n "]],"start1":788,"start2":788,"length1":22,"length2":19}]],"length":3278,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351884895865,"patch":[[{"diffs":[[0,") {\n            "],[-1,"this"],[1,"Controller.TableNav"],[0,"._currPage = 0;\n"]],"start1":1864,"start2":1864,"length1":36,"length2":51}]],"length":3293,"saved":false}
{"ts":1351884903387,"patch":[[{"diffs":[[0,"r;\n\n}) ("],[-1,"this"],[1,"window"],[0,");\n"]],"start1":3278,"start2":3278,"length1":15,"length2":17}]],"length":3295,"saved":false}
{"ts":1351884928874,"patch":[[{"diffs":[[0,"ar app ="],[1,"  "],[0," app || "]],"start1":67,"start2":67,"length1":16,"length2":18},{"diffs":[[0,"pp || {}"],[1,",\n    _   =   window._"],[0,";\n\n/**\n "]],"start1":79,"start2":79,"length1":16,"length2":38}]],"length":3319,"saved":false}
{"ts":1351885088829,"patch":[[{"diffs":[[0,"var app "],[1,"    "],[0,"=   app "]],"start1":66,"start2":66,"length1":16,"length2":20},{"diffs":[[0,"},\n    _"],[1,"    "],[0,"   =   w"]],"start1":90,"start2":90,"length1":16,"length2":20},{"diffs":[[0,"window._"],[1,",\n    PubSub  =   window.PubSub"],[0,";\n\n/**\n "]],"start1":109,"start2":109,"length1":16,"length2":47},{"diffs":[[0,"nction ("],[-1,"global"],[0,") {\n    "]],"start1":374,"start2":374,"length1":22,"length2":16},{"diffs":[[0,"   \n        "],[-1,"global."],[0,"PubSub.publi"]],"start1":1429,"start2":1429,"length1":31,"length2":24}]],"length":3345,"saved":false}
{"ts":1351885094745,"patch":[[{"diffs":[[0,"r;\n\n}) ("],[-1,"window"],[0,");\n"]],"start1":3328,"start2":3328,"length1":17,"length2":11}]],"length":3339,"saved":false}
{"ts":1351885523356,"patch":[[{"diffs":[[0,"=   "],[-1,"app ||"],[1,"window.app || (window.app ="],[0," {}"],[1,")"],[0,",\n  "]],"start1":78,"start2":78,"length1":17,"length2":39}]],"length":3361,"saved":false}
{"ts":1351885547452,"patch":[[{"diffs":[[0," */\n/*js"],[-1,"l"],[1,"h"],[0,"int moot"]],"start1":35,"start2":35,"length1":17,"length2":17}]],"length":3361,"saved":false}
{"ts":1351885557119,"patch":[[{"diffs":[[0," */\n/*js"],[-1,"h"],[1,"l"],[0,"int moot"]],"start1":35,"start2":35,"length1":17,"length2":17}]],"length":3361,"saved":false}
{"ts":1351885576154,"patch":[[{"diffs":[[0,"true */\n"],[-1,"\n"],[0,"var app "]],"start1":57,"start2":57,"length1":17,"length2":16}]],"length":3360,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352323605001,"patch":[[{"diffs":[[0,"r = new "],[-1,"global."],[0,"Picker.D"]],"start1":810,"start2":810,"length1":23,"length2":16}]],"length":3353,"saved":false}
{"ts":1352323622948,"patch":[[{"diffs":[[0,"ndow._,\n"],[1,"    Picker  =   window.Picker,\n"],[0,"    PubS"]],"start1":132,"start2":132,"length1":16,"length2":47}]],"length":3384,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352408394505,"patch":[[{"diffs":[[0,"etInput'"],[1,", 'getSites', 'loadSites'"],[0,");\n"],[-1,""],[0,"        "]],"start1":756,"start2":756,"length1":19,"length2":44},{"diffs":[[0,"te());\n        \n"],[1,"        this.getSites();\n        \n"],[0,"        inputFie"]],"start1":1115,"start2":1115,"length1":32,"length2":66},{"diffs":[[0,"s = 0;\n        \n"],[-1,""],[0,"        PubSub.p"]],"start1":1521,"start2":1521,"length1":32,"length2":32},{"diffs":[[0,"input);\n    });\n"],[1,"    Controller.Input.getSites = (function () {\n        new Request({\n            onSuccess: this.loadSites,\n            url: 'sites.xml'\n        }).get();\n    });\n    Controller.Input.loadSites = (function (txt, xml) {\n        alert(txt);\n    });\n"],[0,"    \n    // Even"]],"start1":1582,"start2":1582,"length1":32,"length2":279}]],"length":3690,"saved":false}
{"ts":1352410372647,"patch":[[{"diffs":[[0,"    "],[-1,"alert(txt"],[1,"var categories  = xml.getElements('category'),\n            el          =   $('sites');\n        categories.each(function (category) {\n            var optGroup = new Element('optgroup', { label: category.name, id: category.id });\n            \n        }"],[0,");\n "]],"start1":1821,"start2":1821,"length1":17,"length2":258}]],"length":3931,"saved":false}
{"ts":1352410709911,"patch":[[{"diffs":[[0,"    "],[-1,"var categories  = xml.getElements('category'),"],[1,"function addOption(node, level) {\n            if (node.get('tagname') != 'sites') {\n                console.log(node.get('tagname'));"],[0,"\n   "]],"start1":1821,"start2":1821,"length1":54,"length2":141},{"diffs":[[0,"        "],[-1,"el"],[1,"}\n"],[0,"        "]],"start1":1963,"start2":1963,"length1":18,"length2":18},{"diffs":[[0,"    "],[-1,"="],[0,"  "],[-1," $('sites');\n        categories"],[1,"if (node.hasChildren()) {\n                node.getChildren()"],[0,".eac"]],"start1":1979,"start2":1979,"length1":42,"length2":70},{"diffs":[[0,"ction (c"],[-1,"ategory"],[1,"hild"],[0,") {\n    "]],"start1":2054,"start2":2054,"length1":23,"length2":20},{"diffs":[[0,"    "],[-1,"var optGroup = new Element('optgroup', { label: category.name, id: category.id"],[1,"        addOption(child);\n               "],[0," });"]],"start1":2078,"start2":2078,"length1":86,"length2":49},{"diffs":[[0,"});\n            "],[1,"}"],[0,"\n        });\n   "]],"start1":2124,"start2":2124,"length1":32,"length2":33},{"diffs":[[0,"     }\n        }"],[-1,");"],[0,"\n    });\n    \n  "]],"start1":2135,"start2":2135,"length1":34,"length2":32}]],"length":4005,"saved":false}
{"ts":1352410739103,"patch":[[{"diffs":[[0,"    }\n        }\n"],[1,"        addOption(xml, 0);\n"],[0,"    });\n    \n   "]],"start1":2136,"start2":2136,"length1":32,"length2":59}]],"length":4032,"saved":false}
{"ts":1352410744977,"patch":[[{"diffs":[[0,"on(child"],[1,", 0"],[0,");\n     "]],"start1":2097,"start2":2097,"length1":16,"length2":19}]],"length":4035,"saved":false}
{"ts":1352410774469,"patch":[[{"diffs":[[0,"     if "],[1,"($"],[0,"(node"],[1,")"],[0,".get('ta"]],"start1":1866,"start2":1866,"length1":21,"length2":24},{"diffs":[[0,"ole.log("],[1,"$("],[0,"node"],[1,")"],[0,".get('ta"]],"start1":1932,"start2":1932,"length1":20,"length2":23}]],"length":4041,"saved":false}
{"ts":1352410791064,"patch":[[{"diffs":[[0,"     if "],[-1,"($"],[0,"(node"],[-1,")"],[0,".get('ta"]],"start1":1866,"start2":1866,"length1":24,"length2":21}]],"length":4038,"saved":false}
{"ts":1352410839352,"patch":[[{"diffs":[[0,"f (node."],[-1,"get('"],[0,"tagname"],[-1,"')"],[0," != 'sit"]],"start1":1872,"start2":1872,"length1":30,"length2":23}]],"length":4031,"saved":false}
{"ts":1352410858559,"patch":[[{"diffs":[[0,"log("],[-1,"$("],[0,"node"],[-1,").get('"],[1,"."],[0,"tagname"],[-1,"')"],[0,");\n "]],"start1":1926,"start2":1926,"length1":30,"length2":20}]],"length":4021,"saved":false}
{"ts":1352411105716,"patch":[[{"diffs":[[0,"tion(xml"],[1,".firstChild"],[0,", 0);\n  "]],"start1":2154,"start2":2154,"length1":16,"length2":27}]],"length":4032,"saved":false}
{"ts":1352411221950,"patch":[[{"diffs":[[0,"hasChild"],[-1,"ren"],[1,"Nodes"],[0,"()) {\n  "]],"start1":1980,"start2":1980,"length1":19,"length2":21},{"diffs":[[0,"    "],[-1,"node.getChildren().each(function "],[1,"for (var child in node.childNodes) {\n                    if (node.hasOwnProperty"],[0,"(child)"],[1,")"],[0," {\n"],[1,"    "],[0,"    "]],"start1":2011,"start2":2011,"length1":51,"length2":103},{"diffs":[[0,"                "],[1,"    }\n                "],[0,"}"],[-1,")"],[0,";\n            }\n"]],"start1":2151,"start2":2151,"length1":34,"length2":55}]],"length":4107,"saved":false}
{"ts":1352411243367,"patch":[[{"diffs":[[0,"               }"],[1," else alert('help!');"],[0,"\n               "]],"start1":2156,"start2":2156,"length1":32,"length2":53}]],"length":4128,"saved":false}
{"ts":1352411257937,"patch":[[{"diffs":[[0,"   }"],[-1," else alert('help!');"],[0,"\n   "]],"start1":2168,"start2":2168,"length1":29,"length2":8}]],"length":4107,"saved":false}
{"ts":1352411278116,"patch":[[{"diffs":[[0,"    }\n        }\n"],[1,"        console.log(xml.firstChild);\n"],[0,"        addOptio"]],"start1":2200,"start2":2200,"length1":32,"length2":69}]],"length":4144,"saved":false}
{"ts":1352411336713,"patch":[[{"diffs":[[0,"dNodes()) {\n"],[1,"                console.log('Yessir!');\n"],[0,"            "]],"start1":1987,"start2":1987,"length1":24,"length2":64},{"diffs":[[0,"};\n            }"],[1," else alert('Oh dear!');"],[0,"\n        }\n     "]],"start1":2229,"start2":2229,"length1":32,"length2":56}]],"length":4208,"saved":false}
{"ts":1352411359763,"patch":[[{"diffs":[[0,"    "],[-1,"if (node.hasOwnProperty(child)) {\n                        addOption(child, 0);\n                    }"],[1,"addOption(child, 0);"],[0,"\n   "]],"start1":2108,"start2":2108,"length1":108,"length2":28}]],"length":4128,"saved":false}
{"ts":1352411409042,"patch":[[{"diffs":[[0,"var "],[-1,"child in"],[1,"i = 0, j ="],[0," nod"]],"start1":2060,"start2":2060,"length1":16,"length2":18},{"diffs":[[0,"ildNodes"],[1,", k = j.length; i < k; i++"],[0,") {\n    "]],"start1":2082,"start2":2082,"length1":16,"length2":42},{"diffs":[[0,"dOption("],[-1,"child"],[1,"j[i]"],[0,", 0);\n  "]],"start1":2142,"start2":2142,"length1":21,"length2":20}]],"length":4155,"saved":false}
{"ts":1352411441925,"patch":[[{"diffs":[[0,"node.tag"],[-1,"n"],[1,"N"],[0,"ame != '"]],"start1":1875,"start2":1875,"length1":17,"length2":17},{"diffs":[[0,"node.tag"],[-1,"n"],[1,"N"],[0,"ame);\n  "]],"start1":1930,"start2":1930,"length1":17,"length2":17},{"diffs":[[0,") {\n"],[-1,"                console.log('Yessir!');\n"],[0,"    "]],"start1":1995,"start2":1995,"length1":48,"length2":8},{"diffs":[[0,"         };\n"],[1,""],[0,"            "]],"start1":2127,"start2":2127,"length1":24,"length2":24},{"diffs":[[0,"   }"],[-1," else alert('Oh dear!');"],[0,"\n   "]],"start1":2148,"start2":2148,"length1":32,"length2":8}]],"length":4091,"saved":false}
{"ts":1352411566120,"patch":[[{"diffs":[[0,"e, level"],[1,", parent"],[0,") {\n    "]],"start1":1847,"start2":1847,"length1":16,"length2":24},{"diffs":[[0,"  }\n"],[-1,"        console.log(xml.firstChild);\n"],[0,"    "]],"start1":2167,"start2":2167,"length1":45,"length2":8},{"diffs":[[0,"Child, 0"],[1,", $('sites')"],[0,");\n    }"]],"start1":2198,"start2":2198,"length1":16,"length2":28}]],"length":4074,"saved":false}
{"ts":1352411872844,"patch":[[{"diffs":[[0,"            "],[-1,"if"],[1,"var currEl;\n            switch"],[0," (node.tagNa"]],"start1":1867,"start2":1867,"length1":26,"length2":54},{"diffs":[[0,"Name"],[-1," != 'sites'"],[0,") {\n"]],"start1":1919,"start2":1919,"length1":19,"length2":8},{"diffs":[[0,"   c"],[-1,"onsole.log(node.tagName);"],[1,"ase 'category':\n                    \n                    "],[0,"\n   "]],"start1":1940,"start2":1940,"length1":33,"length2":65},{"diffs":[[0,"    "],[-1,"addOption(xml.firstChild"],[1,"for (var i = 0, j = xml.getElementsByTagName('category'), k = j.length;\n                i < k; i++) {\n            addOption(j[i]"],[0,", 0,"]],"start1":2224,"start2":2224,"length1":32,"length2":136},{"diffs":[[0,"('sites'));\n"],[1,"        }\n"],[0,"    });\n    "]],"start1":2362,"start2":2362,"length1":24,"length2":34}]],"length":4237,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352495306641,"patch":[[{"diffs":[[0,"    var "],[-1,"curr"],[1,"this"],[0,"El;\n    "]],"start1":1875,"start2":1875,"length1":20,"length2":20},{"diffs":[[0,"        "],[-1,"switch"],[1,"if"],[0," (node.t"]],"start1":1895,"start2":1895,"length1":22,"length2":18},{"diffs":[[0,".tagName"],[1," === 'category'"],[0,") {\n    "]],"start1":1911,"start2":1911,"length1":16,"length2":31},{"diffs":[[0,"    "],[-1,"case 'category':\n                    \n                    \n            }"],[1,"thisEl = new Element('optgroup', {\n                    label: node.getAttribute('name'),\n                    id: node.getAttribute('id')\n                });\n            } else {\n                thisEl = new Element('option', {\n                    lat: node.lat,\n                    lon: node.lng,\n                    // Insert Unicode &nbsp; character to create dropdown\n                    //   hierarchy\n                    text: (new Array(level + 1).join('\\u00a0\\u00a0')) +\n                        node.getAttribute('name') +\n                            ' (' + node.getAttribute('descrip') + ')'\n                });\n            }\n            parent.adopt(thisEl);"],[0,"\n   "]],"start1":1950,"start2":1950,"length1":80,"length2":675},{"diffs":[[0,"n(j[i], "],[-1,"0"],[1,"level + 1, (node.tagName === 'category') ?\n                        thisEl : parent"],[0,");\n     "]],"start1":2771,"start2":2771,"length1":17,"length2":98},{"diffs":[[0,"           }"],[-1,";"],[0,"\n           "]],"start1":2869,"start2":2869,"length1":25,"length2":24},{"diffs":[[0," $('site"],[-1,"s"],[0,""],[1,""],[0,"'));\n   "]],"start1":3046,"start2":3046,"length1":17,"length2":16}]],"length":4922,"saved":false}
{"ts":1352495373626,"patch":[[{"diffs":[[0,": node.l"],[1,"o"],[0,"n"],[-1,"g"],[0,",\n      "]],"start1":2239,"start2":2239,"length1":18,"length2":18}]],"length":4922,"saved":false}
{"ts":1352495419060,"patch":[[{"diffs":[[0,"t: node."],[1,"getAttribute('"],[0,"lat"],[1,"')"],[0,",\n      "]],"start1":2203,"start2":2203,"length1":19,"length2":35},{"diffs":[[0,"n: node."],[1,"getAttribute('"],[0,"lon"],[1,"')"],[0,",\n      "]],"start1":2254,"start2":2254,"length1":19,"length2":35},{"diffs":[[0,"') + ')'"],[1,",\n                    value: node.getAttribute('id')"],[0,"\n       "]],"start1":2577,"start2":2577,"length1":16,"length2":68}]],"length":5006,"saved":false}
{"ts":1352502416127,"patch":[[{"diffs":[[0,"    "],[-1,"global."],[0,"PubS"]],"start1":3527,"start2":3527,"length1":15,"length2":8}]],"length":4999,"saved":false}
{"ts":1352502434287,"patch":[[{"diffs":[[0,", function () {\n"],[1,"            console.log('done');\n"],[0,"            Cont"]],"start1":3562,"start2":3562,"length1":32,"length2":65}]],"length":5032,"saved":false}
{"ts":1352502489171,"patch":[[{"diffs":[[0,") {\n"],[-1,"            console.log('done');\n"],[0,"    "]],"start1":3574,"start2":3574,"length1":41,"length2":8}]],"length":4999,"saved":false}
{"ts":1352502502485,"patch":[[{"diffs":[[0,"lick);\n        \n"],[1,"        console.log('subscribeController');\n"],[0,"        PubSub.s"]],"start1":3507,"start2":3507,"length1":32,"length2":76}]],"length":5043,"saved":false}
{"ts":1352502526972,"patch":[[{"diffs":[[0,"   \n"],[-1,"        console.log('subscribeController');\n"],[0,"    "]],"start1":3519,"start2":3519,"length1":52,"length2":8}]],"length":4999,"saved":false}
{"ts":1352503040291,"patch":[[{"diffs":[[0,"l; idx++) {\n"],[1,"            if (inputFields[idx].get('tagName') === 'select') {\n                this._input[inputFields[idx].get('id')] = inputFields[idx];\n            } else {\n    "],[0,"            "]],"start1":1366,"start2":1366,"length1":24,"length2":189},{"diffs":[[0,".value;\n"],[1,"            }\n"],[0,"        "]],"start1":1613,"start2":1613,"length1":16,"length2":30}]],"length":5178,"saved":false}
{"ts":1352503191460,"patch":[[{"diffs":[[0,"       } else {\n"],[1,"                console.log(inputFields[idx].get('tagName'));\n"],[0,"                "]],"start1":1523,"start2":1523,"length1":32,"length2":94}]],"length":5240,"saved":false}
{"ts":1352503210933,"patch":[[{"diffs":[[0,"ds[idx]."],[-1,"get('"],[0,"tagName"],[-1,"')"],[0,");\n     "]],"start1":1576,"start2":1576,"length1":30,"length2":23}]],"length":5233,"saved":false}
{"ts":1352503236859,"patch":[[{"diffs":[[0,"dx]."],[-1,"get('"],[0,"tagName"],[-1,"'"],[1,".toLowerCase("],[0,") =="]],"start1":1407,"start2":1407,"length1":21,"length2":28}]],"length":5240,"saved":false}
{"ts":1352503259774,"patch":[[{"diffs":[[0,"'select') {\n"],[1,"                console.log('hi');\n"],[0,"            "]],"start1":1437,"start2":1437,"length1":24,"length2":59}]],"length":5275,"saved":false}
{"ts":1352503271201,"patch":[[{"diffs":[[0,") {\n"],[-1,"                console.log('hi');\n"],[0,"    "]],"start1":1445,"start2":1445,"length1":43,"length2":8},{"diffs":[[0,"e {\n"],[-1,"                console.log(inputFields[idx].tagName);\n"],[0,"    "]],"start1":1542,"start2":1542,"length1":63,"length2":8}]],"length":5185,"saved":false}
{"ts":1352503408334,"patch":[[{"diffs":[[0,"] = "],[-1,"inputFields[idx];"],[1,"{\n                    lat: inputFields[idx].get('lat'),\n                    lon: inputFields[idx].get('lat'),\n                    toString: function () { return inputFields[idx].get('name') },\n                }"],[0,"\n   "]],"start1":1503,"start2":1503,"length1":25,"length2":218}]],"length":5378,"saved":false}
{"ts":1352503419287,"patch":[[{"diffs":[[0,"dx].get('lat'),\n"],[1,"                    name: inputFields[idx].get('name'),\n"],[0,"                "]],"start1":1601,"start2":1601,"length1":32,"length2":88}]],"length":5434,"saved":false}
{"ts":1352503628271,"patch":[[{"diffs":[[0,"'option', {\n"],[1,"                    id: node.getAttribute('id')\n"],[0,"            "]],"start1":2604,"start2":2604,"length1":24,"length2":72}]],"length":5482,"saved":false}
{"ts":1352503633598,"patch":[[{"diffs":[[0,"tAttribute('id')"],[1,","],[0,"\n               "]],"start1":2647,"start2":2647,"length1":32,"length2":33}]],"length":5483,"saved":false}
{"ts":1352503660821,"patch":[[{"diffs":[[0,") {\n"],[-1,"            if (inputFields[idx].tagName.toLowerCase() === 'select') {\n                this._input[inputFields[idx].get('id')] = {\n                    lat: inputFields[idx].get('lat'),\n                    lon: inputFields[idx].get('lat'),\n                    name: inputFields[idx].get('name'),\n                    toString: function () { return inputFields[idx].get('name') },\n                }\n            } else {\n    "],[0,"    "]],"start1":1374,"start2":1374,"length1":429,"length2":8},{"diffs":[[0,".value;\n"],[-1,"            }\n"],[0,"        "]],"start1":1448,"start2":1448,"length1":30,"length2":16}]],"length":5048,"saved":false}
{"ts":1352503784245,"patch":[[{"diffs":[[0,"s = 0;\n        \n"],[1,"        alert(this._input);\n        \n"],[0,"        PubSub.p"]],"start1":1521,"start2":1521,"length1":32,"length2":69}]],"length":5085,"saved":false}
{"ts":1352503799152,"patch":[[{"diffs":[[0,"   \n"],[-1,"        alert(this._input);\n        \n"],[0,"    "]],"start1":1533,"start2":1533,"length1":45,"length2":8}]],"length":5048,"saved":false}
{"ts":1352505572021,"patch":[[{"diffs":[[0,"quest({\n"],[1,"            async: false,\n"],[0,"        "]],"start1":1659,"start2":1659,"length1":16,"length2":42}]],"length":5074,"saved":false}
{"ts":1352505634945,"patch":[[{"diffs":[[0,"ion (evt) {\n"],[1,"        console.log('detected');\n"],[0,"        var "]],"start1":4875,"start2":4875,"length1":24,"length2":57}]],"length":5107,"saved":false}
{"ts":1352505675820,"patch":[[{"diffs":[[0,"elds = $$('."],[-1,"event-"],[0,"table-ctrl')"]],"start1":3378,"start2":3378,"length1":30,"length2":24}]],"length":5101,"saved":false}
{"ts":1352505682277,"patch":[[{"diffs":[[0," = $$('."],[1,"event-"],[0,"table-ct"]],"start1":3382,"start2":3382,"length1":16,"length2":22}]],"length":5107,"saved":false}
{"ts":1352505697608,"patch":[[{"diffs":[[0,"elds = $$('."],[-1,"event-"],[0,"table-ctrl')"]],"start1":3378,"start2":3378,"length1":30,"length2":24}]],"length":5101,"saved":false}
{"ts":1352505775874,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log('detected');\n"],[0,"    "]],"start1":4877,"start2":4877,"length1":41,"length2":8}]],"length":5068,"saved":false}
{"ts":1352505798039,"patch":[[{"diffs":[[0," (function () {\n"],[1,"        _.bindAll(this);\n"],[0,"        tableFie"]],"start1":3511,"start2":3511,"length1":32,"length2":57}]],"length":5093,"saved":false}
{"ts":1352505872010,"patch":[[{"diffs":[[0,"ion (evt) {\n"],[1,"        console.log(this._currPage);\n"],[0,"        var "]],"start1":4894,"start2":4894,"length1":24,"length2":61}]],"length":5130,"saved":false}
{"ts":1352506023697,"patch":[[{"diffs":[[0,"});\n"],[-1,"        \n        $('table-ctrl-page').set('value', this._currPage + 1);\n        $('table-ctrl-total').set('text', this._maxPages);\n"],[0,"    "]],"start1":4708,"start2":4708,"length1":139,"length2":8}]],"length":4999,"saved":false}
{"ts":1352506493307,"patch":[[{"diffs":[[0,"lick);\n        \n"],[1,"        $('depToEvid').addEvent('click', this._toggleDepEvid);\n        \n"],[0,"        PubSub.s"]],"start1":3601,"start2":3601,"length1":32,"length2":104}]],"length":5071,"saved":false}
{"ts":1352506897200,"patch":[[{"diffs":[[0,"te());\n        \n"],[1,"        $('depToEvid').addEvent('click', this._toggleDepEvid);\n        \n"],[0,"        this.get"]],"start1":1115,"start2":1115,"length1":32,"length2":104},{"diffs":[[0,"   \n"],[-1,"        $('depToEvid').addEvent('click', this._toggleDepEvid);\n        \n"],[0,"    "]],"start1":3685,"start2":3685,"length1":80,"length2":8}]],"length":5071,"saved":false}
{"ts":1352506916266,"patch":[[{"diffs":[[0,"click', "],[-1,"this"],[1,"app.View.Table"],[0,"._toggle"]],"start1":1164,"start2":1164,"length1":20,"length2":30}]],"length":5081,"saved":false}
{"ts":1352506938879,"patch":[[{"diffs":[[0,"   \n"],[-1,"        $('depToEvid').addEvent('click', app.View.Table._toggleDepEvid);\n        \n"],[0,"    "]],"start1":1127,"start2":1127,"length1":90,"length2":8}]],"length":4999,"saved":false}
{"ts":1352508953027,"patch":[[{"diffs":[[0,"s.fetch("],[1,"Object.append(app.Controller.Input._input,\n            "],[0,"{ page: "]],"start1":4677,"start2":4677,"length1":16,"length2":71},{"diffs":[[0,"rPage })"],[1,")"],[0,";\n    })"]],"start1":4757,"start2":4757,"length1":16,"length2":17}]],"length":5055,"saved":false}
{"ts":1352509009735,"patch":[[{"diffs":[[0,"nds();\n        \n"],[1,"        app.Controller.Input._input.page = this._currPage;\n"],[0,"        app.Mode"]],"start1":4637,"start2":4637,"length1":32,"length2":91},{"diffs":[[0,"tch("],[-1,"Object.append("],[0,"app."]],"start1":4740,"start2":4740,"length1":22,"length2":8},{"diffs":[[0,"nput"],[-1,",\n            { page: this._currPage })"],[0,");\n "]],"start1":4767,"start2":4767,"length1":47,"length2":8}]],"length":5061,"saved":false}
{"ts":1352509401758,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log(this._currPage);\n"],[0,"    "]],"start1":4833,"start2":4833,"length1":45,"length2":8}]],"length":5024,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352526229268,"patch":[[{"diffs":[[0,"te());\n        \n"],[1,"        new DoubleSlider('app-ml-slider', {\n            onChange: function (min, max) {\n                $('minMag').set('text', min);\n                $('maxMag').set('text', max);\n            }\n        });\n        \n"],[0,"        this.get"]],"start1":1115,"start2":1115,"length1":32,"length2":247}]],"length":5239,"saved":false}
{"ts":1352526908280,"patch":[[{"diffs":[[0,"   \n"],[-1,"        new DoubleSlider('app-ml-slider', {\n            onChange: function (min, max) {\n                $('minMag').set('text', min);\n                $('maxMag').set('text', max);\n            }\n        });\n        \n"],[0,"    "]],"start1":1127,"start2":1127,"length1":223,"length2":8}]],"length":5024,"saved":false}
{"ts":1352539661248,"patch":[[{"diffs":[[0,"tion (offset) {\n"],[1,"        console.log('execute');\n"],[0,"        switch ("]],"start1":4273,"start2":4273,"length1":32,"length2":64}]],"length":5056,"saved":false}
{"ts":1352539680595,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log('execute');\n"],[0,"    "]],"start1":4285,"start2":4285,"length1":40,"length2":8}]],"length":5024,"saved":false}
{"ts":1352540011830,"patch":[[{"diffs":[[0,"e-offset');\n"],[1,"        console.log('execute');\n"],[0,"        if ("]],"start1":4886,"start2":4886,"length1":24,"length2":56}]],"length":5056,"saved":false}
{"ts":1352540432454,"patch":[[{"diffs":[[0,"');\n"],[-1,"        console.log('execute');\n"],[0,"    "]],"start1":4894,"start2":4894,"length1":40,"length2":8}]],"length":5024,"saved":false}
{"ts":1352540621232,"patch":[[{"diffs":[[0,"tion (offset) {\n"],[1,"        console.log('asdf');\n"],[0,"        switch ("]],"start1":4273,"start2":4273,"length1":32,"length2":61}]],"length":5053,"saved":false}
{"ts":1352542164338,"patch":[[{"diffs":[[0,"bindAll("],[-1,"this"],[1,"Controller.TableNav"],[0,");\n     "]],"start1":3537,"start2":3537,"length1":20,"length2":35},{"diffs":[[0,"click', "],[-1,"this"],[1,"Controller.TableNav"],[0,".navOnCl"]],"start1":3597,"start2":3597,"length1":20,"length2":35}]],"length":5083,"saved":false}
{"ts":1352548256191,"patch":[[{"diffs":[[0,"ageOffset);\n"],[1,"        evt.stop();\n"],[0,"    });\n    "]],"start1":5017,"start2":5017,"length1":24,"length2":44}]],"length":5103,"saved":false}
{"ts":1352548716408,"patch":[[{"diffs":[[0,"');\n"],[-1,"        if (!pageOffset) return;\n"],[0,"    "]],"start1":4953,"start2":4953,"length1":41,"length2":8}]],"length":5070,"saved":false}
{"ts":1352548721521,"patch":[[{"diffs":[[0,"e-offset');\n"],[-1,"        \n"],[0,"        this"]],"start1":4945,"start2":4945,"length1":33,"length2":24}]],"length":5061,"saved":false}
{"ts":1352548740912,"patch":[[{"diffs":[[0,"    "],[-1,"var pageOffset = "],[1,"this.nav("],[0,"evt."]],"start1":4900,"start2":4900,"length1":25,"length2":17},{"diffs":[[0,"et')"],[-1,";\n        this.nav(pageOffset"],[0,");\n "]],"start1":4943,"start2":4943,"length1":37,"length2":8}]],"length":5024,"saved":false}
{"ts":1352548771991,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log('asdf');\n"],[0,"    "]],"start1":4315,"start2":4315,"length1":37,"length2":8}]],"length":4995,"saved":false}
{"ts":1352548940522,"patch":[[{"diffs":[[0,"        });\n"],[1,"        PubSub.subscribe('eventsChanged', function () {\n            var metaData = app.Models.Events.getMeta();\n            this._currPage = metaData.page;\n            this._maxPage = metaData.maxPages;\n        }.bind(this));\n"],[0,"    });\n    "]],"start1":3749,"start2":3749,"length1":24,"length2":250}]],"length":5221,"saved":false}
{"ts":1352548977498,"patch":[[{"diffs":[[0,"('events"],[-1,"Chang"],[1,"Updat"],[0,"ed', fun"]],"start1":3785,"start2":3785,"length1":21,"length2":21}]],"length":5221,"saved":false}
{"ts":1352549015846,"patch":[[{"diffs":[[0,"ata.page"],[1,"Num"],[0,";\n      "]],"start1":3907,"start2":3907,"length1":16,"length2":19}]],"length":5224,"saved":false}
{"ts":1352549052430,"patch":[[{"diffs":[[0,"etaData."],[-1,"max"],[1,"total"],[0,"Pages;\n "]],"start1":3949,"start2":3949,"length1":19,"length2":21}]],"length":5226,"saved":false}
{"ts":1352591020008,"patch":[[{"diffs":[[0,"ion (evt) {\n"],[1,"        console.log(evt.target.get('data-page-offset'));\n"],[0,"        this"]],"start1":5086,"start2":5086,"length1":24,"length2":81}]],"length":5283,"saved":false}
{"ts":1352591261039,"patch":[[{"diffs":[[0,"        "],[1,"$('"],[0,"table"],[-1,"Fields"],[1,"-ctrls')"],[0,".addEven"]],"start1":3567,"start2":3567,"length1":27,"length2":32},{"diffs":[[0,"t('click"],[1,":relay(.table-ctrl-button)"],[0,"', Contr"]],"start1":3599,"start2":3599,"length1":16,"length2":42}]],"length":5314,"saved":false}
{"ts":1352591280193,"patch":[[{"diffs":[[0,"ay(."],[-1,"table-ctrl-button)',"],[1,"btn)',\n           "],[0," Con"]],"start1":3611,"start2":3611,"length1":28,"length2":26}]],"length":5312,"saved":false}
{"ts":1352591321765,"patch":[[{"diffs":[[0,"ole.log("],[1,"evt.target.get('id') + ':' + "],[0,"evt.targ"]],"start1":5139,"start2":5139,"length1":16,"length2":45}]],"length":5341,"saved":false}
{"ts":1352591370094,"patch":[[{"diffs":[[0,"rget"],[-1,".get('id') + ':' + evt.target.get('data-page-offset')"],[0,");\n "]],"start1":5153,"start2":5153,"length1":61,"length2":8}]],"length":5288,"saved":false}
{"ts":1352591452041,"patch":[[{"diffs":[[0,"    evt."],[-1,"stop"],[1,"preventDefault"],[0,"();\n    "]],"start1":5218,"start2":5218,"length1":20,"length2":30}]],"length":5298,"saved":false}
{"ts":1352591470772,"patch":[[{"diffs":[[0,"t.target"],[1,".get('id')"],[0,");\n     "]],"start1":5149,"start2":5149,"length1":16,"length2":26}]],"length":5308,"saved":false}
{"ts":1352591552276,"patch":[[{"diffs":[[0,"k:relay("],[1,"div"],[0,".btn)',\n"]],"start1":3606,"start2":3606,"length1":16,"length2":19}]],"length":5311,"saved":false}
{"ts":1352591707735,"patch":[[{"diffs":[[0,"ion (evt) {\n"],[1,"        console.log(arguments);\n"],[0,"        cons"]],"start1":5118,"start2":5118,"length1":24,"length2":56}]],"length":5343,"saved":false}
{"ts":1352591736506,"patch":[[{"diffs":[[0,"(evt"],[-1,") {\n        console.log(arguments);\n        console.log(evt.target.get('id'));"],[1,", btn) {"],[0,"\n   "]],"start1":5122,"start2":5122,"length1":86,"length2":16},{"diffs":[[0,"nav("],[-1,"evt.target"],[1,"btn"],[0,".get"]],"start1":5148,"start2":5148,"length1":18,"length2":11}]],"length":5266,"saved":false}
{"ts":1352602556425,"patch":[[{"diffs":[[0,"ent\n"],[-1,"    var tableFields = $$('.table-ctrl');\n"],[0,"    "]],"start1":3359,"start2":3359,"length1":49,"length2":8}]],"length":5225,"saved":false}
